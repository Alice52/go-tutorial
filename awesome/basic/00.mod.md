[toc]

## go mod

1. 代理

   ```shell
   go env -w GO111MODULE=off/on/auto                # auto 是有 go.mod 就开启
   go env -w GOPROXY=https://goproxy.cn,direct
   ```

2. 相关命令

   ```shell
   go mod download                                  # 下载依赖的module到本地cache[默认为$GOPATH/pkg/mod目录]
   go mod edit                                      # 编辑go.mod文件
   go mod graph                                     # 打印模块依赖图
   go mod init [package]                            # 初始化当前文件夹, 创建go.mod文件
   go mod tidy                                      # 增加缺少的module，删除无用的module
   go mod vendor                                    # 将依赖复制到vendor下
   go mod verify                                    # 校验依赖
   go mod why                                       # 解释为什么需要依赖

   go get -u xx                                     # 会升级到最新的次要版本
   go get -u=patch                                  # 升级到最新的修订版本
   go get package@version                           # 升级到指定的版本号
   ```

## go module

## [go work](https://blog.csdn.net/szm1234/article/details/126670258)

1. 初始化及使用

   ```go
   go work init ./common
   go work use ./upms/v1
   go work use [-r] moddir // 所有包含go.mod文件的子目录都添加到go work文件
   ```

2. 查看模块

   ```js
   go list -m              # print path of main module
   go list -m -f={{.Dir}}  # print root directory of main module
   go list -m all          # print build list
   ```

---

## reference

1. [go-module](https://zhuanlan.zhihu.com/p/599710762)
